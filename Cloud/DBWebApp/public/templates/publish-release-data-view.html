<div ng-controller="ng-publish-release-data-ctrl">
  <form >
    
    <legend>
        Current Release 
        <button type="button" class="refresh-btn btn-xs" ng-click="refresh()">
            <span class="process-ring glyphicon glyphicon-refresh" aria-hidden="true" ng-class="{ active: isRefreshing }" data-anim="rotating">
            </span> Sync
        </button> 
    </legend> 

    <div class="input-group">
        <span class="input-group-addon">期号</span>
        <input class="form-control" type="number" ng-model="releaseContent.lottery.issue" ng-change="onReleaseDataChanged()">
    </div>
    <br>
    <div class="input-group">
        <span class="input-group-addon">日期</span>
        <input class="form-control" type="date" ng-model="releaseContent.lottery.date" ng-change="onReleaseDataChanged()">
    </div>
    <br>
    <div class="input-group">
      <span class="input-group-addon">奖号</span>
      <input class="form-control" type="text" ng-model="releaseContent.lottery.scheme" ng-change="onReleaseDataChanged()">
    </div>
    <br>
    <div class="input-group">
        <span class="input-group-addon">奖池</span>
        <input class="form-control" type="number" ng-model="releaseContent.lottery.pool" ng-change="onReleaseDataChanged()">
    </div>
    <br>
    <div class="input-group">
        <span class="input-group-addon">销售</span>
        <input class="form-control" type="number" ng-model="releaseContent.lottery.bet" ng-change="onReleaseDataChanged()">
    </div>
    <br>
    <div class="row">
        <div class="col-lg-6 col-md-6 col-xs-6">
            <div class="input-group">
                <span class="input-group-addon">1 数量</span>
                <input class="form-control" type="number" ng-model="releaseContent.lottery.bonus[0]" ng-change="onReleaseDataChanged()">
            </div>
        </div>

        <div class="col-lg-6 col-md-6 col-xs-6">
            <div class="input-group">
                <span class="input-group-addon">1 奖金</span>
                <input class="form-control" type="number" ng-model="releaseContent.lottery.bonus[1]" ng-change="onReleaseDataChanged()">
            </div>
        </div>
    </div>
    <br>
    <div class="row">
        <div class="col-lg-6 col-md-6 col-xs-6">
            <div class="input-group">
                <span class="input-group-addon">2 数量</span>
                <input class="form-control" type="number" ng-model="releaseContent.lottery.bonus[2]" ng-change="onReleaseDataChanged()">
            </div>
        </div>

        <div class="col-lg-6 col-md-6 col-xs-6">
            <div class="input-group">
                <span class="input-group-addon">2 奖金</span>
                <input class="form-control" type="number" ng-model="releaseContent.lottery.bonus[3]" ng-change="onReleaseDataChanged()">
            </div>
        </div>
    </div>
    <br>
    <div class="row">
        <div class="col-lg-6 col-md-6 col-xs-6">
            <div class="input-group">
                <span class="input-group-addon">3 数量</span>
                <input class="form-control" type="number" ng-model="releaseContent.lottery.bonus[4]" ng-change="onReleaseDataChanged()">
            </div>
        </div>

        <div class="col-lg-6 col-md-6 col-xs-6">
            <div class="input-group">
                <span class="input-group-addon">3 奖金</span>
                <input class="form-control" type="number" ng-model="releaseContent.lottery.bonus[5]" ng-change="onReleaseDataChanged()">
            </div>
        </div>
    </div>
    <br>
    <div class="row">
        <div class="col-lg-6 col-md-6 col-xs-6">
            <div class="input-group">
                <span class="input-group-addon">4 数量</span>
                <input class="form-control" type="number" ng-model="releaseContent.lottery.bonus[6]" ng-change="onReleaseDataChanged()">
            </div>
        </div>

        <div class="col-lg-6 col-md-6 col-xs-6">
            <div class="input-group">
                <span class="input-group-addon">4 奖金</span>
                <input class="form-control" type="number" ng-model="releaseContent.lottery.bonus[7]" ng-change="onReleaseDataChanged()">
            </div>
        </div>
    </div>
    <br>
    <div class="row">
        <div class="col-lg-6 col-md-6 col-xs-6">
            <div class="input-group">
                <span class="input-group-addon">5 数量</span>
                <input class="form-control" type="number" ng-model="releaseContent.lottery.bonus[8]" ng-change="onReleaseDataChanged()">
            </div>
        </div>

        <div class="col-lg-6 col-md-6 col-xs-6">
            <div class="input-group">
                <span class="input-group-addon">5 奖金</span>
                <input class="form-control" type="number" ng-model="releaseContent.lottery.bonus[9]" ng-change="onReleaseDataChanged()">
            </div>
        </div>
    </div>
    <br>
    <div class="row">
        <div class="col-lg-6 col-md-6 col-xs-6">
            <div class="input-group">
                <span class="input-group-addon">6 数量</span>
                <input class="form-control" type="number" ng-model="releaseContent.lottery.bonus[10]" ng-change="onReleaseDataChanged()">
            </div>
        </div>

        <div class="col-lg-6 col-md-6 col-xs-6">
            <div class="input-group">
                <span class="input-group-addon">6 奖金</span>
                <input class="form-control" type="number" ng-model="releaseContent.lottery.bonus[11]" ng-change="onReleaseDataChanged()">
            </div>
        </div>
    </div>
    <br>
    <div class="input-group">
      <span class="input-group-addon">详情</span>
      <textarea class="form-control" rows="5" type="text" ng-model="releaseContent.lottery.details" ng-change="onReleaseDataChanged()"></textarea>
    </div>
    <br>

    <legend>Next Release</legend>


    <div class="input-group">
        <span class="input-group-addon">下期</span>
        <input class="form-control" type="number" ng-model="releaseContent.nextIssue" ng-change="onReleaseDataChanged()">
    </div>
    <br>
    <div class="input-group">
        <span class="input-group-addon">日期</span>
        <input class="form-control" type="date" ng-model="releaseContent.nextReleaseTime" ng-change="onReleaseDataChanged()">
    </div>
    <br>
    <div class="row">
        <div class="col-lg-6 col-md-6 col-xs-6">
            <div class="input-group">
                <span class="input-group-addon">截止</span>
                <input class="form-control" type="time" ng-model="releaseContent.sellOffTime" ng-change="onReleaseDataChanged()">
            </div>
        </div>
        <div class="col-lg-6 col-md-6 col-xs-6">
            <div class="input-group">
                <span class="input-group-addon">开奖</span>
                <input class="form-control" type="time" ng-model="releaseContent.sellOffTime" ng-change="onReleaseDataChanged()">
            </div>
        </div>
    </div>
    <br>

    <div class="input-group">
        <span class="input-group-addon">红胆</span>
        <input class="form-control" type="text" ng-model="releaseContent.recommendation.redIncludes" ng-change="onReleaseDataChanged()">
    </div>
    <br>
    <div class="input-group">
        <span class="input-group-addon">红杀</span>
        <input class="form-control" type="text" ng-model="releaseContent.recommendation.redExcludes" ng-change="onReleaseDataChanged()">
    </div>
    <br>
    <div class="input-group">
        <span class="input-group-addon">蓝胆</span>
        <input class="form-control" type="text" ng-model="releaseContent.recommendation.blueIncludes" ng-change="onReleaseDataChanged()">
    </div>
    <br>
    <div class="input-group">
        <span class="input-group-addon">蓝杀</span>
        <input class="form-control" type="text" ng-model="releaseContent.recommendation.blueExcludes" ng-change="onReleaseDataChanged()">
    </div>
    <br>

    <legend>Data Version</legend>

    <div ng-repeat="(label, number) in releaseContent.dateVersion track by label">
        <div class="input-group">
            <span class="input-group-addon">{{label}}</span>
            <input type="number" class="form-control" ng-model="releaseContent.dateVersion[label]" ng-change="onReleaseDataChanged()">
        </div>
        <br>
    </div>

  </form>

  <nav>
    <ul class="pager">
        <li>
            <button type="button" class="btn" ng-show="isReleaseDataChanged" ng-click="resetReleaseData()">Reset</button> 
        </li>

        <li class="next">
            <a ng-click="leaveReleaseData()">Next <span aria-hidden="true">&rarr;</span></a>
        </li>
    </ul>
  </nav>

  <!-- Modal -->
    <div class="modal fade" id="submitReleaseDataModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Save Release Data</h4>
                </div>
                <div class="modal-body">
                Do you make sure submit the changes on this release?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" ng-click="saveReleaseData()">Submit</button>
                </div>
            </div>
        </div>
    </div>

</div>
